<div th:fragment="taskList">    <!-- Insert the template -->
    
    <h2>Add a task</h2>
    <form method="POST">
        <label for="name">Name:</label>
        <input type="text" name="name" size="40"/>
        <input type="submit"/>
    </form>

    <h2>Task List</h2>
    <div th:unless="${#lists.isEmpty(tasks)}">
    <dl th:each="task : ${tasks}">
        <dt class="TaskName">
            <div>Task: <span th:text="${task.Name}"></span></div>
        </dt>
        <dd class="TaskDetail"> Created: 
        <span th:if="${task.CreateTime}"
              th:text="${#temporals.format(task.CreateTime, 'dd/MMM/yyyy HH:mm')}"></span>
        <span th:if="${task.CreateTime eq null}">
            No Create Time available</span>
        </dd>
         <dd class="TaskDetail"> Completed: 
        <span th:if="${task.CompleteTime}"
              th:text="${#temporals.format(task.CompleteTime, 'dd/MMM/yyyy HH:mm')}"></span>
        <span th:if="${task.CompleteTime eq null}">
            No Complete Time available</span>
        </dd>
        <dd class="TaskDetail"> Completed: 
        <span th:text="${task.Completed}"></span>
        </dd>
        <a th:href="@{/task/} + ${task._id}">Done</a>
        <a th:href="@{/delete/} + ${task._id}">Delete</a>
    </dl>

    </div>

<div th:if="${#lists.isEmpty(tasks)}">
    <p>You have no tasks in your list</p>
</div>

</div> <!-- end of container block -->   